데이터 파이프라인 구축 2주차

Api gateway
외부 이벤트를 서비스로 받아들이는 관문, 이벤트 경우 백엔드에서 처리도 가능하지만 게이트웨이에서도 가능

Kinesis Stream
대규모 데이터 레코드 스트림을 실시간으로 수집하고 처리할수 있음.
큐로 처리, 샤드_병렬처리 

Kinesis Firehose
큐에잇는 데이터를 쉽게 저장할수 있게 하는 기능
코딩하지 않고 가능??
제이슨 형태일때는 레드시프트?가능
백업 이된다

S3
버킷 - 루트폴더  
객체 - 오브젝트
키 

저장 Architecture
저장용량은 무제한 - 그만큼 돈이나온다./디스크풀 에러를 안볼수 있다 ㅋ
KinesiesStream 은 24시간의 데이터 보존이 가능
S3에 반 정형화된 json형식의 데이터로 저장하므로 가변적 값의 데이터 수집, 유연한 분석이 가능
Serverless의 운영 비용 감소

실습구성도
EC2 -> API Gateway -> Kinesis Streams -> Kinesis firehose -> S3

베이스64로 인코딩 하는이유
웹 컨텐츠 경우 특수문자도 있기때문에 깨지는 걸 막기위해서 인코딩

파티션키 
샤드분배할대 시컨스를 만들어서 분배해준다

